@inject IHttpContextAccessor Accessor

@model Kaizen.Models.AdminModel.ProfileModel;
@{
    Layout = "SidebarLayout";
}
<style>
    .btn-azure {
        color: #fff !important;
    }

    .input-width {
        width: 100%;
    }

    #ProfileHeader{
        color:dodgerblue;       
        font-size: 20px;
    }

</style>


<div class="card">
    <div class="card rounded bg-white p-2  mt-2 ml-2 mr-2 mb-2">
        <div class="fw-semibold" id="ProfileHeader"><h1>My Profile</h1></div>
       <p>Kaizen > My Profile > Edit My Profile</p>
    </div>
</div>
<div class="custom-line mb-3"></div>
<div class="card p-2">   
    <div class="card-body">
        <h1>Edit My Profile</h1>
        <hr />
        <div class="mt-3">
            <form asp-controller="Login" formaction="Profile" method="post"/>
                <div class="form-row">
                    <div class="form-group col-md-3">
                        <label for="displayEmpID">EmpID</label><br />
                    <input type="text" id="displayEmpID" class="form-control txt-width" name="EmpID" value=@Accessor.HttpContext.Session.GetString("EmpId") readonly>
                        @* <h2>614614</h2> *@
                    </div>
                    <div class="form-group col-md-3">
                        <label for="inputFirstName">FirstName</label>
                        <input type="text" id="inputFirstName" class="form-control txt-width" placeholder="FirstName" name="FirstName" value="@Model.FirstName">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="inputMiddleName">MiddleName</label>
                        <input type="text" id="inputMiddleName" class="form-control txt-width" placeholder="MiddleName" name="MiddleName" value="@Model.MiddleName">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="inputLastName">LastName</label>
                        <input type="text" id="inputLastName" class="form-control txt-width" placeholder="LastName" name="LastName" value="@Model.LastName">
                    </div>                 
                </div>                    

                <div class="form-row">
                    <div class="form-group col-md-3">
                        <label for="Gender">Gender</label>
                        <div class="row">
                            <div class="form-check">                            
                                <input type="radio" name="Gender" id="maleRadio" value="M" disabled/>Male
                                <input type="radio" name="Gender" id="femaleRadio" value="F" disabled/>Female
                                <input type="radio" name="Gender" id="otherRadio" value="O" disabled/>Other
                            </div>                       
                        </div>
                    </div>
                    <div class="form-group col-md-3">
                        <label for="Domain">Domain</label><br />
                        <input type="text" id="displayDomain" class="form-control txt-width" name="Domain" value="@Model.Domain" readonly/>
                        @* <h1>Quality</h1> *@
                    </div>
                    <div class="form-group col-md-3">
                        <label for="Department">Department</label><br />
                        <input type="text" id="displayDepartment" class="form-control txt-width" name="Department" value="@Model.Department" readonly/>
                        @* <h1>Quality</h1> *@
                    </div>
                    <div class="form-group col-md-3">
                        <label for="Email">Email</label>
                        <input type="email" name="Email" id="empEmail" placeholder="Email" class="form-control txt-width" value="@Model.Email"/>
                    </div>
                </div>
            
                <br />
                <div class="form-row">
                    <div class="form-group col-md-4">
                        <button type="submit" class="btn btn-azure btn-lg">Update My Profile</button>
                    </div>
                </div>               
                
            </form>
        </div>
    </div>
</div> 

 <script>
     var profile_model = {
        EmpID = $('#displayEmpID').val(),
        FirstName = $('#inputFirstName').val()
        MiddleName = $('#inputMiddleName').val()
        LastName =  $('#inputLastName').val()
        Gender = $('#Gender').val()
        Domain = $('#displayDomain').val()
        Department = $('#displayDepartment').val()
        Email = $('empEmail').val()
     }
     if(!ValidateForm()){
         return;
         //If validation fails, return or perform some other necessary actions
     }
     $.ajax({
         type: 'POST',
         url: '/Login/UpdateProfile',
         dataType: "json",
         data: { model: profile_model },
         success: function (result) {
             //Handle success if needed

             if (result == true) {
                 swal({
                     text: "Profile Data  Updated Successfully !!",
                     type: "success"
                 }).then(okay) => { });
             }
             else {
                 swal('Unable to Update Profile, Please check the Logs')
             } 
         },
     error: function(error) {
         swal('Unable to update the profile, Please check the Logs folder')
     }
     })
 </script>   