@inject IHttpContextAccessor Accessor

@{
    var title = "TEPL Kaizen Idea";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@title</title>
    <link rel="shortcut icon" href="~/assets/img/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" crossorigin="anonymous">
    <link href="~/assets/css/common/common.css" rel="stylesheet" />
    <script src="~/assets/js/custom/jquery.min.js"></script>
    <script src="~/assets/js/custom/sweetalert.min.js"></script>
</head>
<style>
    /* styles.css */

    #loader-wrapper {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255, 0.8); /* Semi-transparent white background */
        z-index: 1000; /* Make sure it covers everything */
        display: flex;
        justify-content: center;
        align-items: center;
    }

    #loader {
        border: 10px solid #f3f3f3; /* Light grey */
        border-top: 10px solid #3498db; /* Blue */
        border-radius: 50%;
        width: 80px;
        height: 80px;
        animation: spin 2s linear infinite;
    }

    @@keyframes spin {
        0% {
            transform: rotate(0deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }


    .logo{
        width:50px;
    }
    #wc {
        font-size: 15px;
        color: white;
        cursor:pointer!important;
    }

    hr {
        display: block;
     /*    height: 1px; */
        border: 0;
        border-top: 1px solid #ccc;
        margin: 0em 0;
        padding: 0;
        margin-left:12px;
        margin-right:20px;
    }
    .menupadding
    {
        padding-top:8px;
        padding-bottom:8px;
    }

    #page-content-wrapper {
        flex-grow: 1;
        overflow-y: auto;
        padding: 20px;
    }

    .footer {
        position: fixed;
        bottom: 0;
        width: 100%;
        background-color: #ffffff;
        text-align: center;
        padding: 5px 0;
    }

    body {
        background-color: #fff;
        overflow-y: auto;
    }

</style>
@* <body class="bg-light" style="background-color:#e9ecef"> *@
<body style="background-color:#e9ecef;overflow-y:hidden;"> 
    <div id="wrapper" class="d-flex flex-column">
     
        <nav class="navbar navbar-expand-lg navbar-light" id="container-header" style="background-color: #2dc3e8!important;">
            
            <a class="navbar-brand align-items-center" href="#">
                <img class="logo ml-5" src="~/assets/img/Tata_Logo2 (1).svg" alt="Tata Logo" />
                <label class="text-uppercase text-white ml-3">Tepl Kaizen Idea</label>
            </a>
            
            <div class="ml-auto d-flex align-items-center">
             
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle no-caret text-white" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img src="~/assets/img/Profile.png" width="30px" class="mr-2" />
                            <Label id="wc" class="text-white">Hi, @Accessor.HttpContext.Session.GetString("Message")
                                <div class="text-white"> @Accessor.HttpContext.Session.GetString("Domain")-@Accessor.HttpContext.Session.GetString("Department")</div>
                            </Label>
                            
                           
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" onclick = "ProfilePage();" href="#"><i class="fa-regular fa-user text-primary"></i> Profile</a>
                            <a class="dropdown-item" onclick="LogoutOption();" href="#"><i class="fa-solid fa-right-from-bracket text-danger"></i> Logout</a>
                        </div>
                    </li>
                </ul>
            
        </nav>


       <div>
        <button class="btn menu-toggle m-3" id="menu-toggle">
            <i class="fas fa-bars"></i>
        </button>
        </div> 
        <!-- /Navbar -->
        <div class="d-flex flex-row">
            <!-- Sidebar -->
            <div id="sidebar-wrapper">
               
                <div class="list-group list-group-flush my-3">
                    <hr />
                    <a href="/Dashboard/Dashboardtab1" class="list-group-item list-group-item-action fw-bold text-light menupadding">Dashboard</a>
                    <hr />

                    <a href="/CreateKaizen/NewKaizen" class="list-group-item list-group-item-action  fw-bold  text-light menupadding">NewKaizen</a>
                    <hr />

                    <a href="/SubmittedKaizen/ViewKaizen" class="list-group-item list-group-item-action  fw-bold  text-light menupadding">Submitted Kaizen</a>
                    <hr />

                    <!-- Drop down -->
                    <div class="list-group-item list-group-item-action menupadding" data-toggle="collapse" data-target="#demo">Master Page's<span><i class="fa-sharp fa-solid fa-chevron-down p-3"></i></span></div>
                    <div class="sub-menu collapse menupadding" id="demo" style="margin-top:-15px;">
                        <a class="list-group-item text-light ml-3 menupadding" href="/Admin/AddBlock">Block</a>  <hr />
                        <a class="list-group-item text-light ml-3 menupadding" href="/Admin/AddDomain">Domain</a>  <hr />
                        <a class="list-group-item text-light ml-3 menupadding" href="/Admin/AddDepartment">Department</a>  <hr />
                        <a class="list-group-item text-light ml-3 menupadding" href="/Admin/AddUser">User</a>  <hr />
                        <a class="list-group-item text-light ml-3 menupadding" href="/ViewUser/ViewUser">View User</a>
                    </div>
                    <hr />

                    <div class="list-group-item list-group-item-action menupadding" data-toggle="collapse" data-target="#demo2">Settings<span><i class="fa-sharp fa-solid fa-chevron-down p-3"></i></span></div>
                    <div class="sub-menu collapse menupadding" id="demo2" style="margin-top:-15px;">
                        <a class="list-group-item text-light ml-3 menupadding" href="/WinnersList/WinnersList">Winners List</a>  <hr />
                    </div>
                    <hr />
                    <a href="#" class="list-group-item list-group-item-action text-light fw-bold menupadding">Form Elements</a>
                    <hr />
                    <a href="/Reports/ReportDownload" class="list-group-item list-group-item-action text-light fw-bold menupadding">Reports</a>
                    <hr />

                    <a href="#" class="list-group-item list-group-item-action text-light fw-bold menupadding">Charts</a>
                    <hr />

                    <a href="#" class="list-group-item list-group-item-action text-light fw-bold menupadding">Icons</a>
                    <hr />

                    <a class="LogoutIcon list-group-item menupadding" onclick="LogoutOption();" href="#"><i class="fa-solid fa-right-from-bracket icon1 padding-left-20 margin-left-20"></i></a>
                </div>
            </div>
            <!-- /Sidebar -->
            <!-- Page Content -->
            <div id="loader-wrapper">
                <div id="loader"></div>
            </div>
           @*  <div id="page-content-wrapper"  class="flex-grow-1" style="height:calc(100vh - 100px); overflow-y: scroll;">
                @RenderBody()  

            </div> *@
            <div id="page-content-wrapper" class="container-fluid flex-grow-1" style="height:calc(100vh - 105px); overflow-y: scroll;">
                @RenderBody()
            </div>
  
        </div>
            
        </div>
    </div>

    <!-- /#wrapper -->
        <div class="footer bg-white  text-center">
            <div class="container py-3 ">
                <p class="mb-0 ">Copyright © TEPL-KAIZEN-IDEA 2024</p>
            </div>
        </div> 
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script>
        $("#menu-toggle").click(function (e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled");
        });
        function LogoutOption() 
        {
                swal({
                    text: "Are you sure you want to Logout ?",
                    buttons: {
                        confirm: "Yes",
                        cancel: "No",
                    },
                }).then((userConfirmation) => {
                    if (userConfirmation) {
                        window.location = "/Login/Logout";
                    }
                });
        }
    </script>
    <script>
            $(window).on('load', function () {
                $('#loader-wrapper').fadeOut('slow', function () {
                    $(this).remove();
                });
            });
    </script>
    <script>
        function ProfilePage() 
        { 
            window.location.href = '/Profile/Profile';
        }
    </script>
</body>
</html>